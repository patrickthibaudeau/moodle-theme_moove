define(["jquery","core/ajax"],function(o,e){window.jQuery=o;function s(){var e=o("body").attr("class").split(/\s+/);o.each(e,function(e,o){var s;(o.includes("fontsize-inc-")||o.includes("fontsize-dec-"))&&(s=o.split("-"),i=o,l=s[1],c=s[2])}),this.toggleFontsizeButtons(),this.registerEventListeners()}var t="#fontsize_dec, #fontsize_reset, #fontsize_inc",n="#sitecolor_color1, #sitecolor_color2, #sitecolor_color3, #sitecolor_color4",i=null,l=null,c=null,r=null,d=null;return s.prototype.registerEventListeners=function(){o(t).click(function(e){e=o(e.currentTarget);r=e.data("action"),this.fontSize()}.bind(this)),o(n).click(function(e){e=o(e.currentTarget);d=e.data("action"),this.siteColor()}.bind(this))},s.prototype.fontSize=function(){e.call([{methodname:"theme_moove_fontsize",args:{action:r}}])[0].done(function(){this.reloadFontsizeClass()}.bind(this))},s.prototype.reloadFontsizeClass=function(){if("reset"===r||"increase"===r&&"fontsize-dec-1"===i||"decrease"===r&&"fontsize-inc-1"===i)return o("body").removeClass(i),c=l=i=null,void this.toggleFontsizeButtons();"increase"===r&&(null===c?(i="fontsize-inc-1",l="inc",c=1):"inc"===l&&c<6?(o("body").removeClass(i),i="fontsize-inc-"+ ++c):"dec"===l&&(o("body").removeClass(i),i="fontsize-dec-"+--c),o("body").addClass(i)),"decrease"===r&&(null===c?(i="fontsize-dec-1",l="dec",c=1):"dec"===l&&c<6?(o("body").removeClass(i),i="fontsize-dec-"+ ++c):"inc"===l&&(o("body").removeClass(i),i="fontsize-inc-"+--c),o("body").addClass(i)),this.toggleFontsizeButtons()},s.prototype.toggleFontsizeButtons=function(){null===i&&(o("#fontsize_reset").addClass("disabled"),o("#fontsize_inc").removeClass("disabled"),o("#fontsize_dec").removeClass("disabled")),null!==i&&o("#fontsize_reset").removeClass("disabled"),"inc"===l&&(6==c&&o("#fontsize_inc").addClass("disabled"),c<6&&o("#fontsize_inc").removeClass("disabled")),"dec"===l&&(6==c&&o("#fontsize_dec").addClass("disabled"),c<6&&o("#fontsize_dec").removeClass("disabled"))},s.prototype.siteColor=function(){e.call([{methodname:"theme_moove_sitecolor",args:{action:d}}])[0].done(function(){this.reloadSitecolorClass()}.bind(this))},s.prototype.reloadSitecolorClass=function(){o("body").removeClass(function(e,o){return(o.match(/(^|\s)sitecolor-color-\S+/g)||[]).join(" ")}),"reset"!==d&&o("body").addClass(d)},{init:function(){return new s}}});
//# sourceMappingURL=accessibilitybar.min.js.map